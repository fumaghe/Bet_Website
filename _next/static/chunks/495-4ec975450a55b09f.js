"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{589:function(e,a,t){t.d(a,{H:function(){return j}});var r=t(7437),s=t(2265),n=t(6691),l=t.n(n),o=t(1396),i=t.n(o);let c=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}),m=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))});var d=t(1812),u=t.n(d),g=t(7817);let f=e=>e.replace(/[\s-]/g,"").toLowerCase(),p=e=>{let a=new Date(e);return new Intl.DateTimeFormat("it-IT",{day:"numeric",month:"short"}).format(a)},h=(e,a)=>{let t=p(e.toISOString().split("T")[0]),r=p(a.toISOString().split("T")[0]);return"".concat(t," - ").concat(r)},x=e=>{let{sortedSetts:a,selectedSett:t,onPrev:s,onNext:n,matchesBySett:l}=e;if(null===t)return null;let o=l[t],i="";if(o&&o.length>0){let e=o.map(e=>new Date(e.date)),a=new Date(Math.min(...e.map(e=>e.getTime()))),t=new Date(Math.max(...e.map(e=>e.getTime())));i=h(a,t)}let d=a.indexOf(t);return(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:0===d,"aria-label":"Sett precedente",children:(0,r.jsx)(c,{className:"h-5 w-5"})}),(0,r.jsx)("div",{className:"text-lg font-semibold",children:i}),(0,r.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d===a.length-1,"aria-label":"Sett successivo",children:(0,r.jsx)(m,{className:"h-5 w-5"})})]})},w=e=>{let{match:a,teamsData:t}=e,s=t[a.homeTeam],n=t[a.awayTeam],o="".concat(a.golHome," - ").concat(a.golAway),c=a.golHome>a.golAway?"home":a.golHome<a.golAway?"away":"draw";return(0,r.jsxs)(i(),{href:"/leagues/matches/".concat(encodeURIComponent(a.id)),className:"block border-b py-2 px-4 hover: transition-colors",children:[(0,r.jsx)("div",{className:"text-sm text-gray-500 mb-1 text-center",children:a.time}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[s&&(0,r.jsx)(l(),{src:s.logo,alt:a.homeTeam,width:24,height:24,className:"object-contain"}),(0,r.jsx)("span",{className:"font-medium ".concat("home"===c?"text-green-600":""),children:a.homeTeam})]}),(0,r.jsx)("div",{className:"text-lg font-bold w-16 text-center",children:o}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 flex-1 justify-end",children:[(0,r.jsx)("span",{className:"font-medium ".concat("away"===c?"text-green-600":""),children:a.awayTeam}),n&&(0,r.jsx)(l(),{src:n.logo,alt:a.awayTeam,width:24,height:24,className:"object-contain"})]})]})]})},y=e=>{let{dayKey:a,matches:t,teamsData:s}=e,n=new Intl.DateTimeFormat("it-IT",{weekday:"long",day:"numeric",month:"long"}).format(new Date(a));return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:n}),(0,r.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,r.jsx)(w,{match:e,teamsData:s},e.id))})]},a)};function j(e){let{league:a,year:t,highlightLeague:n}=e,[l,o]=(0,s.useState)({}),[i,c]=(0,s.useState)([]),[m,d]=(0,s.useState)(null),[p,h]=(0,s.useState)({}),[w,j]=(0,s.useState)(null);if((0,s.useEffect)(()=>{let e=async()=>{try{console.log("Inizio caricamento dati delle partite...");let e=await fetch("/data/all_leagues_matches.csv");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let r=await e.text();console.log("CSV caricato con successo.");let s=u().parse(r,{header:!0,skipEmptyLines:!0});console.log("CSV parsato:",s.data.length,"righe trovate.");let n=[...new Set(s.data.map(e=>e.Campionato.trim().toLowerCase()))];console.log("Leagues found in CSV:",n);let l=s.data.filter(e=>{let r=f(e.Campionato),s=new Date(e.Giorno),n=s.getFullYear();return r===f(a)&&n===t});if(console.log('Partite filtrate per la lega "'.concat(a,'" e l\'anno "').concat(t,'":'),l.length),0===l.length)throw Error('Nessuna partita trovata per la lega "'.concat(a,'" e l\'anno "').concat(t,"\". Verifica il nome della lega e l'anno nel CSV."));let i=l.map(e=>({id:"".concat(e["Squadra Casa"],"-").concat(e["Squadra Trasferta"],"-").concat(e.Giorno,"-").concat(e.Orario),homeTeam:e["Squadra Casa"],awayTeam:e["Squadra Trasferta"],league:e.Campionato,date:e.Giorno,time:e.Orario,xGHome:parseFloat(e["xG Casa"])||0,golHome:parseInt(e["Gol Casa"])||0,golAway:parseInt(e["Gol Trasferta"])||0,xGAway:parseFloat(e["xG Trasferta"])||0,sett:parseInt(e["Sett."])||0}));console.log("Partite mappate:",i);let m={};i.forEach(e=>{m[e.sett]||(m[e.sett]=[]),m[e.sett].push(e)}),console.log("Partite raggruppate per Sett.:",Object.keys(m).length),o(m);let p=Object.keys(m).map(e=>{let a=parseInt(e,10),t=m[a].map(e=>new Date(e.date)),r=new Date(Math.min(...t.map(e=>e.getTime()))),s=new Date(Math.max(...t.map(e=>e.getTime())));return{sett:a,earliestDate:r,latestDate:s}});p.sort((e,a)=>e.earliestDate.getTime()-a.earliestDate.getTime());let x=p.map(e=>e.sett);console.log("Sett. ordinati:",x),c(x);let w={};i.forEach(e=>{if(!w[e.homeTeam]){let a=(0,g.Ds)(e.homeTeam);a&&(w[e.homeTeam]=a)}if(!w[e.awayTeam]){let a=(0,g.Ds)(e.awayTeam);a&&(w[e.awayTeam]=a)}}),console.log("Dati delle squadre caricati:",Object.keys(w).length),h(w);let y=new Date,j=new Date(y.getFullYear(),y.getMonth(),y.getDate()),b=null;for(let e of p)if(e.earliestDate>=j){b=e.sett;break}null===b&&p.length>0&&(b=p[p.length-1].sett),console.log("Sett. selezionato:",b),d(b)}catch(e){console.error("Errore durante il caricamento dei dati delle partite:",e),j(e.message)}};e()},[a,t]),w)return(0,r.jsxs)("div",{className:"text-red-500",children:["Errore: ",w]});if(null===m)return(0,r.jsx)("div",{children:"Caricamento..."});let b=l[m]||{},N={};b.forEach(e=>{let a=new Date(e.date).toDateString();N[a]||(N[a]=[]),N[a].push(e)});let T=Object.keys(N).sort((e,a)=>new Date(e).getTime()-new Date(a).getTime());return(0,r.jsxs)("div",{children:[(0,r.jsx)(x,{sortedSetts:i,selectedSett:m,onPrev:()=>{if(null===m)return;let e=i.indexOf(m);e>0&&d(i[e-1])},onNext:()=>{if(null===m)return;let e=i.indexOf(m);e<i.length-1&&d(i[e+1])},matchesBySett:l}),(0,r.jsx)("div",{className:"space-y-8",children:T.map(e=>{let a=N[e];return(0,r.jsx)(y,{dayKey:e,matches:a,teamsData:p},e)})})]})}},8974:function(e,a,t){t.d(a,{P:function(){return g}});var r=t(7437),s=t(2265),n=t(6691),l=t.n(n),o=t(6110),i=t(8851),c=t(9311),m=t(1812),d=t.n(m),u=t(7817);function g(e){let{league:a,onMatchSelect:t}=e,[n,m]=(0,s.useState)([]),[g,f]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/data/partite_corretto.csv"),t=await e.text(),r=d().parse(t,{header:!0,skipEmptyLines:!0}),s=r.data.map(e=>({id:"".concat(e["Squadra Casa"],"-").concat(e["Squadra Trasferta"],"-").concat(e.Giorno,"-").concat(e.Orario),homeTeam:e["Squadra Casa"],awayTeam:e["Squadra Trasferta"],league:e.Campionato,date:e.Giorno,time:e.Orario,homeScore:e["Punteggio Casa"]?parseInt(e["Punteggio Casa"]):void 0,awayScore:e["Punteggio Trasferta"]?parseInt(e["Punteggio Trasferta"]):void 0})),n=new Date,l=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(l);o.setDate(l.getDate()+3);let i=s.filter(e=>e.league===a),c=i.filter(e=>{let a=new Date(e.date),t=new Date(a.getFullYear(),a.getMonth(),a.getDate());if(t<l||t>o)return!1;let r=new Date("".concat(e.date,"T").concat(e.time));return e.date!==l.toISOString().split("T")[0]||r>=n}),g=c.sort((e,a)=>{let t=new Date("".concat(e.date,"T").concat(e.time)),r=new Date("".concat(a.date,"T").concat(a.time));return t.getTime()-r.getTime()}),p=g.slice(0,40);m(p);let h={};for(let e of p){if(!h[e.homeTeam]){let a=(0,u.Ds)(e.homeTeam);a&&(h[e.homeTeam]=a)}if(!h[e.awayTeam]){let a=(0,u.Ds)(e.awayTeam);a&&(h[e.awayTeam]=a)}}f(h)}catch(e){console.error("Errore durante il caricamento dei dati delle partite:",e)}};e()},[a]);let p=e=>{let a=new Date,t=new Date(e),r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=s.getTime()-r.getTime(),l=Math.round(n/864e5);return 0===l?"Oggi":1===l?"Domani":new Intl.DateTimeFormat("it-IT",{weekday:"long"}).format(t)};return(0,r.jsxs)(i.x,{className:"w-full rounded-lg overflow-x-auto overflow-y-hidden",children:[(0,r.jsx)("div",{className:"flex gap-4 p-2",children:n.map(e=>{let a=g[e.homeTeam],s=g[e.awayTeam],n=p(e.date);return(0,r.jsxs)(o.Zb,{onClick:()=>null==t?void 0:t(e.homeTeam,e.awayTeam,e.league),className:(0,c.cn)("flex flex-col w-[190px] flex-shrink-0 p-3 transition-all","hover:scale-105 hover:shadow-lg cursor-pointer"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:n}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:e.time})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"relative w-7 h-7",children:a&&(0,r.jsx)(l(),{src:a.logo,alt:a.team,fill:!0,className:"object-cover"})}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.homeTeam})]}),"number"==typeof e.homeScore&&(0,r.jsx)("span",{className:"text-lg font-bold",children:e.homeScore})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"relative w-8 h-8",children:s&&(0,r.jsx)(l(),{src:s.logo,alt:s.team,fill:!0,className:"object-cover"})}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.awayTeam})]}),"number"==typeof e.awayScore&&(0,r.jsx)("span",{className:"text-lg font-bold",children:e.awayScore})]})]},e.id)})}),(0,r.jsx)(i.B,{orientation:"horizontal"})]})}},9501:function(e,a,t){t.d(a,{g:function(){return i}});var r=t(7437),s=t(2265),n=t(2553),l=t(9311),o=t(7057);function i(e){let{league:a,limit:t,selectedHomeTeam:i,selectedAwayTeam:c}=e,[m,d]=(0,s.useState)([]),[u,g]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=async()=>{try{g(!0),await (0,o.NN)();let e=(0,o.eg)(a);d(t?e.slice(0,t):e),console.log("Standings for ".concat(a,":"),e)}catch(e){console.error("Errore durante il caricamento della classifica per la lega ".concat(a,":"),e),d([])}finally{g(!1)}};e()},[a,t]),u)?(0,r.jsx)("p",{className:"text-muted-foreground",children:"Caricamento classifica..."}):m.length?(0,r.jsx)("div",{className:"overflow-hidden rounded-lg border shadow-md",children:(0,r.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:(0,r.jsxs)(n.iA,{className:"table-auto w-full text-muted-foreground",children:[(0,r.jsx)(n.xD,{children:(0,r.jsxs)(n.SC,{children:[(0,r.jsx)(n.ss,{className:"w-[20px] text-center",children:"Pos"}),(0,r.jsx)(n.ss,{className:"w-[40px] text-center",children:"Logo"}),(0,r.jsx)(n.ss,{className:"w-[20px] text-right",children:"Punti"}),(0,r.jsx)(n.ss,{className:"w-[20px] text-right",children:"Giocate"})]})}),(0,r.jsx)(n.RM,{children:m.map(e=>(0,r.jsxs)(n.SC,{className:(0,l.cn)("hover:bg-secondary transition",(e.team===i||e.team===c)&&"bg-primary/10"),children:[(0,r.jsx)(n.pj,{className:"text-center",children:e.position}),(0,r.jsx)(n.pj,{className:"text-center",children:(0,r.jsx)("div",{className:"relative w-7 h-7 mx-auto",children:(0,r.jsx)("img",{src:"/images/teams/".concat(e.team.toLowerCase().replace(/\s+/g,"_"),".png"),alt:e.team,className:"w-full h-full object-cover"})})}),(0,r.jsx)(n.pj,{className:"text-right",children:e.points}),(0,r.jsx)(n.pj,{className:"text-right",children:e.played})]},e.team))})]})})}):(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Nessuna classifica disponibile per ",a]})}},2553:function(e,a,t){t.d(a,{RM:function(){return i},SC:function(){return m},iA:function(){return l},pj:function(){return u},ss:function(){return d},xD:function(){return o}});var r=t(7437),s=t(2265),n=t(9311);let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",t),...s})})});l.displayName="Table";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",t),...s})});o.displayName="TableHeader";let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...s})});i.displayName="TableBody";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})});c.displayName="TableFooter";let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});m.displayName="TableRow";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("th",{ref:a,className:(0,n.cn)("h-12 px-1 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});d.displayName="TableHead";let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("td",{ref:a,className:(0,n.cn)("py-3 px-1 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});u.displayName="TableCell";let g=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...s})});g.displayName="TableCaption"},7817:function(e,a,t){t.d(a,{Ds:function(){return g},eg:function(){return u},fw:function(){return i},mu:function(){return d}});var r=t(4746),s=t(1812),n=t.n(s);let l={},o=[],i=[{name:"Serie A",country:"Italia",icon:"/images/leagues/serie_a.png"},{name:"Premier League",country:"Inghilterra",icon:"/images/leagues/premier_league.png"},{name:"La Liga",country:"Spagna",icon:"/images/leagues/la_liga.png"},{name:"Bundesliga",country:"Germania",icon:"/images/leagues/bundesliga.png"},{name:"Ligue 1",country:"Francia",icon:"/images/leagues/ligue_1.png"},{name:"Champions League",country:"Europa",icon:"/images/leagues/champions_league.png"}],c=e=>e.toLowerCase().replace(/\s+/g,"_"),m=e=>e.toLowerCase().replace(/\s+/g,"_");async function d(){try{for(let e of["serie_a","premier_league","la_liga","bundesliga","ligue_1","champions_league"]){let a=await fetch("/data/standings/".concat(e,".csv"));if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let t=await a.text(),s=await (0,r.b)(t);l[e]=s.map(a=>({position:parseInt(a.Pos,10),team:a.Squadra,played:parseInt(a.PG,10),wins:parseInt(a.V,10),draws:parseInt(a.N,10),losses:parseInt(a.P,10),goalsFor:parseInt(a.Rf,10),goalsAgainst:parseInt(a.Rs,10),goalDifference:parseInt(a.DR,10),points:parseInt(a.Pt,10),xG:parseFloat(a.xG),xGA:parseFloat(a.xGA),league:e})),console.log("Classifica caricata per la lega: ".concat(e),l[e])}let e=await fetch("/data/all_leagues_matches.csv");if(!e.ok)throw Error("Failed to load matches: ".concat(e.status));let a=await e.text(),t=n().parse(a,{header:!0,skipEmptyLines:!0});if(t.errors.length>0)throw console.error("Error parsing matches CSV:",t.errors),Error("Error parsing matches CSV.");o=t.data.map(e=>({id:"".concat(e["Squadra Casa"],"-").concat(e["Squadra Trasferta"],"-").concat(e.Giorno,"-").concat(e.Orario),homeTeam:e["Squadra Casa"],awayTeam:e["Squadra Trasferta"],league:e.Campionato,date:e.Giorno,time:e.Orario,xGHome:parseFloat(e["xG Casa"])||0,xGAway:parseFloat(e["xG Trasferta"])||0,golHome:parseInt(e["Gol Casa"])||0,golAway:parseInt(e["Gol Trasferta"])||0})),console.log("Dati caricati con successo.",o)}catch(e){console.error("Error loading data:",e)}}function u(e){let a=c(e);return l[a]||[]}function g(e){let a=m(e),t=Object.entries(l).flatMap(e=>{let[a,t]=e;return t.map(e=>({...e,league:a}))}),r=t.find(e=>m(e.team)===a);if(r)return{team:r.team,league:r.league,players:0,age:0,possession:0,matches:r.played,goals:r.goalsFor,assists:0,goalsAndAssists:r.goalsFor,xG:r.xG,npxG:0,xAG:0,rating:3,logo:"/images/teams/".concat(m(r.team),".png")}}},7057:function(e,a,t){t.d(a,{NN:function(){return n},eg:function(){return l}});var r=t(4746);let s={};async function n(){try{for(let e of["serie_a","premier_league","la_liga","bundesliga","ligue_1","champions_league"]){let a=await fetch("/data/standings/".concat(e,".csv")),t=await a.text(),n=await (0,r.b)(t);s[e]=n.map(a=>({position:parseInt(a.Pos,10),team:a.Squadra,played:parseInt(a.PG,10),wins:parseInt(a.V,10),draws:parseInt(a.N,10),losses:parseInt(a.P,10),goalsFor:parseInt(a.Rf,10),goalsAgainst:parseInt(a.Rs,10),goalDifference:parseInt(a.DR,10),points:parseInt(a.Pt,10),xG:parseFloat(a.xG),xGA:parseFloat(a.xGA),league:e})),console.log("Loaded standings for ".concat(e,":"),s[e])}}catch(e){console.error("Error loading standings:",e)}}function l(e){let a=e.toLowerCase().replace(/\s+/g,"_");return console.log("Fetching standings for league: ".concat(a)),s[a]||[]}},4746:function(e,a,t){t.d(a,{b:function(){return n}});var r=t(1812),s=t.n(r);async function n(e){return new Promise((a,t)=>{s().parse(e,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:e=>{a(e.data)},error:e=>{t(e)}})})}}}]);